import{a as U}from"./chunk-V2IR6PJO.js";import{a as E,d as F,e as I,f as L,h as V,i as k,l as N,m as J,n as R,p as T,q as W,t as q,u as ee,v as j,w as A}from"./chunk-YZMRXNOE.js";import{$ as v,e as H,g as x,h as O,k as K}from"./chunk-JAL5QYTD.js";import"./chunk-Q64FFBLU.js";import{$a as p,Eb as S,Fb as i,Jb as f,Ka as l,Kb as h,La as c,Lb as M,Nb as y,Z as B,db as g,ga as _,ha as G,lb as n,mb as t,pa as d,qa as u,qb as C,rc as b,tb as P,uc as $}from"./chunk-RIFD72XT.js";function se(o,D){o&1&&(n(0,"mat-error"),i(1," Email is required. "),t())}function me(o,D){o&1&&(n(0,"mat-error"),i(1," Password is required. "),t())}var ne=(()=>{class o{constructor(m,s,r){this.authService=m,this.router=s,this.route=r,this.email="",this.password="",this.errorMessage="",this.authService.getUser()?.isSubscribed&&this.router.navigate(["../../pokemon"],{relativeTo:this.route})}onLogin(){let m=this.authService.login(this.email,this.password);m?m.isSubscribed?this.router.navigate(["../../pokemon"],{relativeTo:this.route}):this.router.navigate(["../../info"],{relativeTo:this.route}):this.errorMessage="Invalid username or password"}static{this.\u0275fac=function(s){return new(s||o)(c(U),c(x),c(H))}}static{this.\u0275cmp=_({type:o,selectors:[["app-login"]],standalone:!0,features:[y],decls:22,vars:4,consts:[["loginForm","ngForm"],[1,"auth-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","email","name","email","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","type","password","name","password","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"],[1,"links"],["routerLink","/auth/signup"],["routerLink","/auth/forget-password"]],template:function(s,r){if(s&1){let e=C();n(0,"div",1)(1,"h2"),i(2,"Login"),t(),n(3,"form",2,0),P("ngSubmit",function(){return d(e),u(r.onLogin())}),n(5,"mat-form-field",3)(6,"mat-label"),i(7,"Email"),t(),n(8,"input",4),M("ngModelChange",function(a){return d(e),h(r.email,a)||(r.email=a),u(a)}),t(),p(9,se,2,0,"mat-error",5),t(),n(10,"mat-form-field",3)(11,"mat-label"),i(12,"Password"),t(),n(13,"input",6),M("ngModelChange",function(a){return d(e),h(r.password,a)||(r.password=a),u(a)}),t(),p(14,me,2,0,"mat-error",5),t(),n(15,"button",7),i(16,"Login"),t(),n(17,"div",8)(18,"a",9),i(19,"Don't have an account? Sign Up"),t(),n(20,"a",10),i(21,"Forgot Password?"),t()()()()}if(s&2){let e=S(4);l(8),f("ngModel",r.email),l(),g("ngIf",(e.controls.email==null?null:e.controls.email.invalid)&&(e.controls.email==null?null:e.controls.email.touched)),l(4),f("ngModel",r.password),l(),g("ngIf",(e.controls.password==null?null:e.controls.password.invalid)&&(e.controls.password==null?null:e.controls.password.touched))}},dependencies:[v,A,j,q,T,W,ee,R,k,E,F,I,N,V,L,b,O],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:40px;border-radius:8px;box-shadow:0 2px 10px #0000001a;background-color:#fff}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-bottom:16px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:.9em;color:#f44336}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:20px}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px;font-size:.9em}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return o})();function le(o,D){o&1&&(n(0,"mat-error"),i(1," Username is required. "),t())}function de(o,D){o&1&&(n(0,"mat-error"),i(1," A valid email is required. "),t())}function ue(o,D){o&1&&(n(0,"mat-error"),i(1," Password is required and should be at least 6 characters long. "),t())}var oe=(()=>{class o{constructor(m,s){this.authService=m,this.router=s,this.username="",this.password="",this.email="",this.errorMessage=""}onSignup(){this.authService.signup(this.username,this.password,this.email)?this.router.navigate(["/auth/login"]):this.errorMessage="Username already exists"}static{this.\u0275fac=function(s){return new(s||o)(c(U),c(x))}}static{this.\u0275cmp=_({type:o,selectors:[["app-signup"]],standalone:!0,features:[y],decls:27,vars:6,consts:[["signupForm","ngForm"],[1,"auth-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","text","name","username","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","type","email","name","email","required","",3,"ngModelChange","ngModel"],["matInput","","type","password","name","password","required","","minlength","6",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"],[1,"links"],["routerLink","/auth/login"],["routerLink","/auth/forget-password"]],template:function(s,r){if(s&1){let e=C();n(0,"div",1)(1,"h2"),i(2,"Sign Up"),t(),n(3,"form",2,0),P("ngSubmit",function(){return d(e),u(r.onSignup())}),n(5,"mat-form-field",3)(6,"mat-label"),i(7,"Username"),t(),n(8,"input",4),M("ngModelChange",function(a){return d(e),h(r.username,a)||(r.username=a),u(a)}),t(),p(9,le,2,0,"mat-error",5),t(),n(10,"mat-form-field",3)(11,"mat-label"),i(12,"Email"),t(),n(13,"input",6),M("ngModelChange",function(a){return d(e),h(r.email,a)||(r.email=a),u(a)}),t(),p(14,de,2,0,"mat-error",5),t(),n(15,"mat-form-field",3)(16,"mat-label"),i(17,"Password"),t(),n(18,"input",7),M("ngModelChange",function(a){return d(e),h(r.password,a)||(r.password=a),u(a)}),t(),p(19,ue,2,0,"mat-error",5),t(),n(20,"button",8),i(21,"Sign Up"),t(),n(22,"div",9)(23,"a",10),i(24,"Already have an account? Login"),t(),n(25,"a",11),i(26,"Forgot Password?"),t()()()()}if(s&2){let e=S(4);l(8),f("ngModel",r.username),l(),g("ngIf",(e.controls.username==null?null:e.controls.username.invalid)&&(e.controls.username==null?null:e.controls.username.touched)),l(4),f("ngModel",r.email),l(),g("ngIf",(e.controls.email==null?null:e.controls.email.invalid)&&(e.controls.email==null?null:e.controls.email.touched)),l(4),f("ngModel",r.password),l(),g("ngIf",(e.controls.password==null?null:e.controls.password.invalid)&&(e.controls.password==null?null:e.controls.password.touched))}},dependencies:[v,A,j,q,T,W,R,k,E,F,I,N,J,V,L,b,O],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:40px;border-radius:8px;box-shadow:0 2px 10px #0000001a;background-color:#fff}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-fill[_ngcontent-%COMP%]{background-color:#3f51b51a}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:.9em;color:#f44336}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:20px}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px;font-size:.9em}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return o})();function ce(o,D){o&1&&(n(0,"mat-error"),i(1," A valid email is required. "),t())}var ie=(()=>{class o{constructor(m){this.router=m,this.email="",this.message=""}onResetPassword(){this.router.navigate(["/auth/reset-password"],{queryParams:{username:this.email}})}static{this.\u0275fac=function(s){return new(s||o)(c(x))}}static{this.\u0275cmp=_({type:o,selectors:[["app-forget-password"]],standalone:!0,features:[y],decls:17,vars:2,consts:[["forgetPasswordForm","ngForm"],[1,"auth-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","email","name","email","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],[1,"links"],["routerLink","/auth/login"],["routerLink","/auth/signup"]],template:function(s,r){if(s&1){let e=C();n(0,"div",1)(1,"h2"),i(2,"Forget Password"),t(),n(3,"form",2,0),P("ngSubmit",function(){return d(e),u(r.onResetPassword())}),n(5,"mat-form-field",3)(6,"mat-label"),i(7,"Email"),t(),n(8,"input",4),M("ngModelChange",function(a){return d(e),h(r.email,a)||(r.email=a),u(a)}),t(),p(9,ce,2,0,"mat-error",5),t(),n(10,"button",6),i(11,"Send Link"),t(),n(12,"div",7)(13,"a",8),i(14,"Remembered your password? Login"),t(),n(15,"a",9),i(16,"Don't have an account? Sign Up"),t()()()()}if(s&2){let e=S(4);l(8),f("ngModel",r.email),l(),g("ngIf",(e.controls.email==null?null:e.controls.email.invalid)&&(e.controls.email==null?null:e.controls.email.touched))}},dependencies:[v,A,j,q,T,W,R,k,E,F,I,N,V,L,b,O],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:40px;border-radius:8px;box-shadow:0 2px 10px #0000001a;background-color:#fff}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-fill[_ngcontent-%COMP%]{background-color:#3f51b51a}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:.9em;color:#f44336}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:20px}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px;font-size:.9em}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return o})();function pe(o,D){o&1&&(n(0,"mat-error"),i(1," Password is required and should be at least 6 characters long. "),t())}function ge(o,D){o&1&&(n(0,"mat-error"),i(1," Confirm Password is required and should match the new password. "),t())}var re=(()=>{class o{constructor(m,s,r){this.authService=m,this.router=s,this.route=r,this.email="",this.newPassword="",this.confirmPassword="",this.errorMessage="",this.route.queryParamMap.subscribe(e=>{this.email=e.get("username")})}onSubmit(){if(this.newPassword!==this.confirmPassword){this.errorMessage="Passwords do not match!",alert(this.errorMessage);return}this.authService.resetPassword(this.email,this.newPassword).subscribe(m=>{m?(alert("Password reset successful!"),this.router.navigate(["/auth/login"])):alert("Please Try Again!")})}static{this.\u0275fac=function(s){return new(s||o)(c(U),c(x),c(H))}}static{this.\u0275cmp=_({type:o,selectors:[["app-reset-password"]],standalone:!0,features:[y],decls:22,vars:4,consts:[["resetPasswordForm","ngForm"],[1,"auth-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","password","name","newPassword","required","","minlength","6",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","type","password","name","confirmPassword","required","","minlength","6",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"],[1,"links"],["routerLink","/auth/login"],["routerLink","/auth/signup"]],template:function(s,r){if(s&1){let e=C();n(0,"div",1)(1,"h2"),i(2,"Reset Password"),t(),n(3,"form",2,0),P("ngSubmit",function(){return d(e),u(r.onSubmit())}),n(5,"mat-form-field",3)(6,"mat-label"),i(7,"New Password"),t(),n(8,"input",4),M("ngModelChange",function(a){return d(e),h(r.newPassword,a)||(r.newPassword=a),u(a)}),t(),p(9,pe,2,0,"mat-error",5),t(),n(10,"mat-form-field",3)(11,"mat-label"),i(12,"Confirm New Password"),t(),n(13,"input",6),M("ngModelChange",function(a){return d(e),h(r.confirmPassword,a)||(r.confirmPassword=a),u(a)}),t(),p(14,ge,2,0,"mat-error",5),t(),n(15,"button",7),i(16," Reset Password "),t(),n(17,"div",8)(18,"a",9),i(19,"Remembered your password? Login"),t(),n(20,"a",10),i(21,"Don't have an account? Sign Up"),t()()()()}if(s&2){let e=S(4);l(8),f("ngModel",r.newPassword),l(),g("ngIf",(e.controls.newPassword==null?null:e.controls.newPassword.invalid)&&(e.controls.newPassword==null?null:e.controls.newPassword.touched)),l(4),f("ngModel",r.confirmPassword),l(),g("ngIf",(e.controls.confirmPassword==null?null:e.controls.confirmPassword.invalid)&&(e.controls.confirmPassword==null?null:e.controls.confirmPassword.touched))}},dependencies:[v,A,j,q,T,W,R,k,E,F,I,N,J,V,L,b,O],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:40px;border-radius:8px;box-shadow:0 2px 10px #0000001a;background-color:#fff}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-fill[_ngcontent-%COMP%]{background-color:#3f51b51a}.auth-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:.9em;color:#f44336}.auth-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:20px}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px;font-size:.9em}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}.auth-container[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return o})();var fe=[{path:"login",component:ne},{path:"signup",component:oe},{path:"forget-password",component:ie},{path:"reset-password",component:re},{path:"",redirectTo:"/login",pathMatch:"full"}],ae=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=G({type:o})}static{this.\u0275inj=B({imports:[K.forChild(fe),K]})}}return o})();var Qe=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=G({type:o})}static{this.\u0275inj=B({imports:[$,ae]})}}return o})();export{Qe as AuthModule};
